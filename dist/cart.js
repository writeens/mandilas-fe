!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}({2:function(e,t){let n=0;const o=document.querySelector("#cart-subtotal"),r=document.querySelector("#cart-total"),a=async e=>{let t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});return(await t.json()).data},c=(e,t)=>{"+"===t&&(n+=e,o.innerHTML=formatter.format(n)),"-"===t&&(n-=e,o.innerHTML=formatter.format(n)),r.innerHTML=formatter.format(n)},i=(e,t,n,o,r)=>{if("+"===n){let n=parseInt(t.value);n++;const a={item:r,quantity:n};fetch(`${updateCartEndpoint}/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>e.json()).then(o=>{t.value=n,c(e,"+")})}if("-"===n&&t.value>1){let n=parseInt(t.value);n--;const a={item:r,quantity:n};fetch(`${updateCartEndpoint}/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>e.json()).then(o=>{t.value=n,c(e,"-")})}},d=document.querySelector(".cart-info-column"),s=(e,t,a)=>{const{name:c,description:s,usage:l,imageUrl:u,price:m,productID:p}=e,{power:f,size:h}=s,L=document.createElement("div");L.classList.add("cart-info-details");const y=document.createElement("div"),v=document.createElement("img");v.src=u;const E=document.createElement("div");E.classList.add("cart-info-details-1");const T=document.createElement("p");T.innerHTML=c;const g=document.createElement("p");g.innerHTML=`Power: ${f} HP`;const M=document.createElement("p");M.innerHTML=`Size: ${h}`;const b=document.createElement("div"),H=document.createElement("p");H.innerHTML=formatter.format(m);const w=document.createElement("div");w.classList.add("cart-info-details-2");const S=document.createElement("img");S.src="https://res.cloudinary.com/mandilas/image/upload/v1582705378/Assets/delete_uins7x.svg";const C=document.createElement("div"),j=document.createElement("p");j.innerHTML="Quantity";const q=document.createElement("div");q.classList.add("cart-item-size");const I=document.createElement("p");I.innerHTML="&#45;";const $=document.createElement("input");$.type="text",$.value=t,$.disabled=!0;const P=document.createElement("p");P.innerHTML="&#43;",S.addEventListener("click",()=>((e,t,a,c)=>{fetch(`${deleteCartItemEndpoint}/${e}/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{document.querySelector(`.cart-info-column > [data-id="${t}"]`).remove();let i=a*parseInt(c.value);n-=i,o.innerHTML=formatter.format(n),r.innerHTML=formatter.format(n)})})(a,p,m,$)),P.addEventListener("click",()=>i(m,$,"+",a,p)),I.addEventListener("click",()=>i(m,$,"-",a,p)),L.setAttribute("data-id",p),q.append(I,$,P),C.append(j,q),w.append(S,C),b.append(H),E.append(T,g,M,b),y.append(v,E),L.append(y,w),d.append(L)},l=document.querySelector(".cartContentLoader"),u=e=>{addClass(l,"showLoader"),fetch(`${getItemsInCartEndpoint}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(t=>{const{status:n,data:o}=t;if(console.log(n),"success"===n)r=e,o.map(e=>{d.innerHTML="",a(`${singleProductEndpoint}/${e.item}`).then(t=>{s(t,e.quantity,r),removeClass(l,"showLoader");let n=t.price*e.quantity;c(n,"+")})}),loader.classList.remove("showLoader");else if("error"===n){const e=document.querySelector(".cart-content-right"),t=document.querySelector(".cart-info-column"),n=document.createElement("p");n.innerHTML="There are no items in your cart",n.setAttribute("id","noItemInCart"),t.innerHTML="",t.append(n),e.style.display="none",loader.classList.remove("showLoader"),removeClass(l,"showLoader")}var r}).catch(e=>{console.log(e);const t=document.querySelector(".cart-content-right"),n=document.querySelector(".cart-info-column"),o=document.createElement("p");o.innerHTML="There are no items in your cart",o.setAttribute("id","noItemInCart"),n.innerHTML="",n.append(o),t.style.display="none",loader.classList.remove("showLoader")})},m=document.querySelector(".cart-content-bottom-more"),p=e=>{const{discountedPrice:t,imageUrl:n,name:o,productID:r}=e,a=document.createElement("div");a.classList.add("cart-content-bottom-item");const c=document.createElement("img");c.src=n;const i=document.createElement("p");i.innerHTML=o;const d=formatter.format(t);productPrice=document.createElement("p"),productPrice.innerHTML=d;const s=document.createElement("div"),l=document.createElement("img");l.src="https://res.cloudinary.com/mandilas/image/upload/v1582705409/Assets/star_uk5thw.svg";const u=document.createElement("p");u.innerHTML="4.5",a.setAttribute("data-id",r),a.addEventListener("click",()=>(e=>{const t=e.getAttribute("data-id");ENV,window.location.href=`../Airconditioners/index.html?id=${t}`})(a)),s.append(l,u),a.append(c,i,productPrice,s),m.append(a)},f=()=>{m.innerHTML="",a(productsEndpoint).then(e=>{((e,t)=>{let n=[];for(;n.length<t;){let t=Math.floor(Math.random()*e.length);!1===n.includes(t)&&n.push(t)}return n.map(t=>e[t])})(e,4).map(e=>p(e))})};window.addEventListener("DOMContentLoaded",()=>{loader.classList.add("showLoader"),handleNavbarLoad.then(e=>{e?(u(e),f()):(console.log("object"),f(),loader.classList.remove("showLoader"))}).catch(e=>{console.log(e);const t=document.querySelector(".cart-content-right"),n=document.querySelector(".cart-info-column"),o=document.createElement("p");o.innerHTML="There are no items in your cart",o.setAttribute("id","noItemInCart"),n.innerHTML="",n.append(o),t.style.display="none",loader.classList.remove("showLoader")})});const h=document.querySelector("#cartCheckout"),L=()=>{handleNavbarLoad.then(e=>{e&&(window.location.href="../Checkout/checkout.html")}).catch(e=>{infoToast.innerHTML="Kindly make sure you are logged in",infoToast.classList.add("showInfoToast"),setTimeout(()=>{infoToast.classList.remove("showInfoToast")},2e3)})};h&&h.addEventListener("click",L)}});